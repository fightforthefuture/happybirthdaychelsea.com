var BirthdayController=Composer.Controller.extend({elements:{ul:"designs",textarea:"message","span#remaining":"remaining",'input[name="name"]':"name",'input[name="address"]':"address",'input[name="city"]':"city",'input[name="state"]':"state",'input[name="zip"]':"zip",'input[name="email"]':"email",'input[name="opt_in"]':"opt_in"},events:{"click li a":"switchDesign","keyup textarea":"editMessage","change textarea":"editMessage","submit form":"submit"},selectedCard:"card1",switchDesign:function(a){a&&a.preventDefault();for(var b=0;b<this.designs.childNodes.length;b++)this.designs.childNodes[b].className="";var c=a.target.parentNode.parentNode;c.className="sel",this.selectedCard=c.id},editMessage:function(a){var b=350-this.message.value.length;this.remaining.textContent=b+" characters remaining"},submit:function(a){a.preventDefault();var b=!1,c=function(a){a.className="error",b=!0},d=["name","address","city","state","zip","message"];if(this.message.value||c(this.message),b)return alert("Please fill out all required fields :)");for(var e=new FormData,f=0;f<d.length;f++)e.append(d[f],this[d[f]].value);this.email.value&&e.append("email",this.email.value),this.opt_in.checked&&e.append("opt_in",1),e.append("design",this.selectedCard);var g="/happy_birthday",h=new XMLHttpRequest;return h.onreadystatechange=function(){4===h.readyState&&console.log("response:",h.response)}.bind(this),h.open("post",g,!0),h.send(e),"a"==window.TEST_OPTION?new ShareModalController({headline:"Thanks—we'll send your card!",text:"Please share this page, and consider making a small donation to cover the cost of printing and postage. $4.20 lets us send 5 more cards! Whatever isn't spent on cards will go to supporting her work from jail."}):"b"==window.TEST_OPTION?new ShareModalController2({}):new ShareModalController3({}),this.el.style.display="none",document.getElementById("share").style.display="inline",!1}}),ShareModalController2=BaseShareModalController.extend({headline:"Thanks—we'll send your card!",text:"Please share this page, and consider making a small donation to cover the cost of printing and postage. $4.20 lets us send 5 more cards! Whatever isn't spent on cards will go to supporting her work from jail.",init:function(){this.render(),this.show()},render:function(){var a=this.base_render();a.firstChild.appendChild(ShareModalView2({headline:this.headline,text:this.text})),this.html(a)}}),ShareModalView2=function(a){var b=$c("div"),c=$c("button"),d=$c("h2"),e=$c("p"),f=$c("div"),g=$c("button"),h=$c("button"),i=$c("button");return b.classList.add("modal","_call_modal"),c.classList.add("close"),f.classList.add("_call_shares"),g.classList.add("social","twitter","small"),h.classList.add("social","facebook","small"),i.classList.add("social","donate","big"),c.textContent="⨉",d.textContent=a.headline,e.textContent=a.text,g.textContent="Tweet this",h.textContent="Share this",i.textContent="Give $7 to send more cards!",f.appendChild(i),f.appendChild(g),f.appendChild(h),b.appendChild(c),b.appendChild(d),b.appendChild(e),b.appendChild(f),b},ShareModalController3=BaseShareModalController.extend({headline:"Thanks—we'll send your card!",text:"Please share this page, and consider making a small donation to cover the cost of printing and postage. $4.20 lets us send 5 more cards! Whatever isn't spent on cards will go to supporting her work from jail.",init:function(){this.render(),this.show()},render:function(){var a=this.base_render();a.firstChild.appendChild(ShareModalView3({headline:this.headline,text:this.text})),this.html(a)}}),ShareModalView3=function(a){var b=$c("div"),c=$c("button"),d=$c("h2"),e=$c("p"),f=$c("div"),g=$c("button"),h=$c("button"),i=$c("button");return b.classList.add("modal","_call_modal"),c.classList.add("close"),f.classList.add("_call_shares"),g.classList.add("social","twitter","small"),h.classList.add("social","facebook","small"),i.classList.add("social","donate","big"),c.textContent="⨉",d.textContent=a.headline,e.textContent=a.text,g.textContent="Tweet this",h.textContent="Share this",i.textContent="Give $7 to send more cards!",f.appendChild(i),b.appendChild(c),b.appendChild(d),b.appendChild(e),b.appendChild(f),b};new BirthdayController({el:"#amibeingdetained"}),window.TEST_NAME="button-layout-1";var diceRoll=Math.random();.33>diceRoll?window.TEST_OPTION="a":diceRoll>=.33&&.66>diceRoll?window.TEST_OPTION="b":window.TEST_OPTION="c",window.DONATE_URL="https://donate.fightforthefuture.org/campaigns/birthday/page-1/?tag=chelseabirthday&testName="+window.TEST_NAME+"&testOption="+window.TEST_OPTION+"&utm_source=happybirthdaychelsea.com&utm_medium=web&utm_campaign="+window.TEST_NAME+"-"+window.TEST_OPTION,console.log("diceRoll: ",diceRoll,"; testOption: ",window.TEST_OPTION);